# ç—…é™¢ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚·ã‚¹ãƒ†ãƒ  - ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†ï¼

## âœ… æ§‹ç¯‰å®Œäº†

ç—…é™¢ç®¡ç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ãŒæ§‹ç¯‰ã•ã‚Œã¾ã—ãŸï¼

## ğŸ“¦ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
/home/user/webapp/
â”œâ”€â”€ postgres/              # PostgreSQLãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
â”‚   â””â”€â”€ init.sql          # ã‚¹ã‚­ãƒ¼ãƒå®šç¾©ã¨ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ graphql-server/       # GraphQL APIã‚µãƒ¼ãƒãƒ¼ï¼ˆGraphQL Yogaï¼‰
â”‚   â”œâ”€â”€ index.js          # ã‚µãƒ¼ãƒãƒ¼å®Ÿè£…
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ dashboard/            # Reactãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/   # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ queries/      # GraphQLã‚¯ã‚¨ãƒª
â”‚   â”‚   â”œâ”€â”€ App.jsx       # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒª
â”‚   â”‚   â””â”€â”€ main.jsx      # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ Dockerfile
â”œâ”€â”€ docker-compose.yml    # Docker Composeè¨­å®š
â””â”€â”€ README.md             # è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
```

## ğŸš€ èµ·å‹•æ‰‹é †

### Dockerç’°å¢ƒãŒã‚ã‚‹å ´åˆ

```bash
cd /home/user/webapp
docker compose up -d
```

èµ·å‹•å¾Œã€ä»¥ä¸‹ã®URLã«ã‚¢ã‚¯ã‚»ã‚¹ï¼š
- **ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰**: http://localhost:3000
- **GraphQL Playground**: http://localhost:4000/graphql

### Dockerç’°å¢ƒãŒãªã„å ´åˆï¼ˆãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºï¼‰

#### 1. PostgreSQLã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

PostgreSQLã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦èµ·å‹•å¾Œã€ä»¥ä¸‹ã‚’å®Ÿè¡Œï¼š

```bash
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ä½œæˆ
createdb hospital_db
psql hospital_db < /home/user/webapp/postgres/init.sql
```

ã¾ãŸã¯ã€PostgreSQL Dockerå˜ä½“ã§èµ·å‹•ï¼š

```bash
docker run -d \
  --name hospital-postgres \
  -e POSTGRES_DB=hospital_db \
  -e POSTGRES_USER=hospital_user \
  -e POSTGRES_PASSWORD=hospital_pass \
  -p 5432:5432 \
  -v /home/user/webapp/postgres/init.sql:/docker-entrypoint-initdb.d/init.sql \
  postgres:15-alpine
```

#### 2. GraphQLã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•

```bash
cd /home/user/webapp/graphql-server
npm install
npm start
```

GraphQL Playgroundã« http://localhost:4000/graphql ã§ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½

#### 3. Reactãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã®èµ·å‹•

åˆ¥ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ï¼š

```bash
cd /home/user/webapp/dashboard
npm install
npm run dev
```

ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã« http://localhost:3000 ã§ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½

## ğŸ“Š æ©Ÿèƒ½èª¬æ˜

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ

#### ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹é€ 

1. **departmentsï¼ˆè¨ºç™‚ç§‘ãƒã‚¹ã‚¿ï¼‰**
   - å†…ç§‘ã€å¤–ç§‘ã€å°å…ç§‘ãªã©10è¨ºç™‚ç§‘

2. **wardsï¼ˆç—…æ£Ÿãƒã‚¹ã‚¿ï¼‰**
   - ç¬¬1-4ç—…æ£Ÿã€ICUã€CCUãªã©6ç—…æ£Ÿ

3. **outpatient_recordsï¼ˆå¤–æ¥æ‚£è€…è¨˜éŒ²ï¼‰**
   - æ—¥åˆ¥ã€è¨ºç™‚ç§‘åˆ¥ã®åˆè¨ºãƒ»å†è¨ºæ‚£è€…æ•°

4. **inpatient_recordsï¼ˆå…¥é™¢æ‚£è€…è¨˜éŒ²ï¼‰**
   - æ—¥åˆ¥ã€ç—…æ£Ÿåˆ¥ã€è¨ºç™‚ç§‘åˆ¥ã®ä»¥ä¸‹ãƒ‡ãƒ¼ã‚¿ï¼š
     - åœ¨é™¢æ‚£è€…æ•°
     - æ–°å…¥é™¢æ‚£è€…æ•°
     - é€€é™¢æ‚£è€…æ•°
     - è»¢å‡ºæ‚£è€…æ•°
     - è»¢å…¥æ‚£è€…æ•°

### GraphQL API

**ä¸»è¦ã‚¯ã‚¨ãƒªï¼š**

- `departments`: è¨ºç™‚ç§‘ä¸€è¦§
- `wards`: ç—…æ£Ÿä¸€è¦§
- `outpatientSummary`: å¤–æ¥æ‚£è€…ã‚µãƒãƒªãƒ¼ï¼ˆæœŸé–“æŒ‡å®šå¯èƒ½ï¼‰
- `outpatientByDepartment`: è¨ºç™‚ç§‘åˆ¥å¤–æ¥æ‚£è€…é›†è¨ˆ
- `inpatientSummary`: å…¥é™¢æ‚£è€…ã‚µãƒãƒªãƒ¼ï¼ˆæœŸé–“æŒ‡å®šå¯èƒ½ï¼‰
- `inpatientByWard`: ç—…æ£Ÿåˆ¥å…¥é™¢æ‚£è€…é›†è¨ˆ

### ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰æ©Ÿèƒ½

#### å¤–æ¥æ‚£è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- ğŸ“ˆ æ—¥åˆ¥æ‚£è€…æ•°æ¨ç§»ï¼ˆæŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•ï¼‰
- ğŸ“Š è¨ºç™‚ç§‘åˆ¥æ‚£è€…æ•°ï¼ˆæ£’ã‚°ãƒ©ãƒ•ï¼‰
- ğŸ“‹ è¨ºç™‚ç§‘åˆ¥è©³ç´°ã‚«ãƒ¼ãƒ‰

#### å…¥é™¢æ‚£è€…ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
- ğŸ“ˆ æ—¥åˆ¥å…¥é™¢æ‚£è€…æ•°æ¨ç§»ï¼ˆæŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•ï¼‰
- ğŸ“Š ç—…æ£Ÿåˆ¥æ‚£è€…æ•°ï¼ˆæ£’ã‚°ãƒ©ãƒ•ï¼‰
- ğŸ“‹ ç—…æ£Ÿåˆ¥è©³ç´°ã‚«ãƒ¼ãƒ‰ï¼ˆç¨¼åƒç‡å«ã‚€ï¼‰

#### å…±é€šæ©Ÿèƒ½
- ğŸ“… æœŸé–“ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ï¼ˆé–‹å§‹æ—¥ãƒ»çµ‚äº†æ—¥ï¼‰
- âš¡ ã‚¯ã‚¤ãƒƒã‚¯æœŸé–“é¸æŠï¼ˆ7æ—¥ãƒ»30æ—¥ãƒ»90æ—¥ï¼‰

## ğŸ§ª ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿

åˆæœŸãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦**éå»30æ—¥åˆ†**ã®ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãŒæŠ•å…¥ã•ã‚Œã¦ã„ã¾ã™ï¼š

- **è¨ºç™‚ç§‘**: 10ç§‘
- **ç—…æ£Ÿ**: 6æ£Ÿ
- **å¤–æ¥æ‚£è€…è¨˜éŒ²**: å„æ—¥Ã—è¨ºç™‚ç§‘ã”ã¨ã«ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆ
- **å…¥é™¢æ‚£è€…è¨˜éŒ²**: å„æ—¥Ã—ç—…æ£ŸÃ—è¨ºç™‚ç§‘ã”ã¨ã«ãƒ©ãƒ³ãƒ€ãƒ ç”Ÿæˆ

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **Backend**: Node.js, GraphQL Yoga, pg (PostgreSQL)
- **Frontend**: React, Apollo Client, Recharts, Vite
- **Database**: PostgreSQL 15
- **Infrastructure**: Docker, Docker Compose

## ğŸ“– è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

è©³ç´°ãªä½¿ã„æ–¹ã€GraphQLã‚¯ã‚¨ãƒªä¾‹ã€ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯ `README.md` ã‚’ã”è¦§ãã ã•ã„ã€‚

## ğŸ‰ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. Dockerç’°å¢ƒãŒã‚ã‚‹å ´åˆã¯ `docker compose up -d` ã§ã‚·ã‚¹ãƒ†ãƒ ã‚’èµ·å‹•
2. ãƒ–ãƒ©ã‚¦ã‚¶ã§ http://localhost:3000 ã«ã‚¢ã‚¯ã‚»ã‚¹
3. æœŸé–“ã‚’é¸æŠã—ã¦å¤–æ¥ãƒ»å…¥é™¢ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèª
4. GraphQL Playground (http://localhost:4000/graphql) ã§APIã‚’è©¦ã™

ã‚·ã‚¹ãƒ†ãƒ ã®æ§‹ç¯‰ãŒå®Œäº†ã—ã¾ã—ãŸï¼
